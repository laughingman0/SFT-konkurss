/* -------------------------------------------------------
   TeacherBro — FIXED & IMPROVED STYLESHEET
   ------------------------------------------------------- */

/* Theme variables */
:root{
  --bg: linear-gradient(145deg,#3b3d47,#202127);
  --bg-fixed: #2b2c30;
  --card: rgba(255,255,255,0.06);
  --card-2: rgba(255,255,255,0.05);
  --input-bg: rgba(255,255,255,0.12);
  --input-border: rgba(255,255,255,0.28);
  --button-bg: linear-gradient(135deg,#73d6ff,#7fffd4);
  --button-bg-hover: linear-gradient(135deg,#5ec9ff,#6ef5c8);
  --text: #fff;
  --muted: rgba(255,255,255,0.75);
  --placeholder: #d6d6d6;
}

/* Light theme */
.light{
  --bg: linear-gradient(145deg,#ffffff,#dfe7ff);
  --bg-fixed: rgba(255,255,255,0.92);
  --card: rgba(0,0,0,0.05);
  --card-2: rgba(0,0,0,0.05);
  --input-bg: rgba(0,0,0,0.06);
  --input-border: rgba(0,0,0,0.18);
  --text: #222;
  --muted: rgba(0,0,0,0.7);
  --button-bg: linear-gradient(135deg,#4da8ff,#00e2a9);
  --button-bg-hover: linear-gradient(135deg,#3399ff,#00d79c);
  --placeholder: #555;
}

/* Global */
*{box-sizing:border-box}
html,body{
  height:100%;margin:0;padding:0;
  font-family:"Inter",Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  overflow-x:hidden;
}
body{
  background-repeat:no-repeat;
  background-attachment:fixed;
  background-size:cover;
  background-position:center;
}

.container{
  width:100%;max-width:1100px;
  margin:0 auto;padding:1rem;
}

/* -------------------------------------------------------
   HEADER FIXES
   ------------------------------------------------------- */
.site-header{
  padding-top:42px;
  padding-bottom:14px;
  background:var(--bg-fixed);
  border-radius:14px;
  margin-bottom:14px;
  box-shadow:0 4px 14px rgba(0,0,0,0.25);
  text-align:center;
}

/* FIXED: h4 now scales properly on mobile */
.site-header h4{
  margin:0;
  font-weight:700;
  font-size:clamp(1.4rem, 6vw, 2.2rem);
  color:var(--text);
  text-shadow:0 0 12px rgba(255,255,255,0.38);
}

.site-header h1{
  margin:6px 0 4px;
  font-size:clamp(1rem, 4.5vw, 1.6rem);
  font-weight:600;
  line-height:1.15;
}

/* -------------------------------------------------------
   AUTO-TYPE TEXT — MOBILE SAFE
   ------------------------------------------------------- */
.auto-type{
  display:inline-block;
  white-space:normal !important;   /* allows wrapping */
  word-break:break-word;
  max-width:100%;
  overflow:hidden;
  border-right:2px solid var(--text);
  padding-right:4px;
  animation:blink .7s step-end infinite;
}

@keyframes blink { 50% { border-color:transparent; } }

/* -------------------------------------------------------
   TOP CONTROLS
   ------------------------------------------------------- */
.top-controls{
  position:fixed;top:12px;right:12px;
  display:flex;gap:8px;z-index:1200;
}
.top-controls button{
  display:inline-flex;align-items:center;justify-content:center;
  height:40px;min-width:40px;padding:8px 12px;
  border-radius:10px;
  border:1px solid var(--input-border);
  background:rgba(0,0,0,0.45);
  color:var(--text);cursor:pointer;
  transition:transform .12s;
}
.light .top-controls button{
  background:rgba(255,255,255,0.65);
}
.top-controls button:active{transform:translateY(1px)}

/* -------------------------------------------------------
   CARDS
   ------------------------------------------------------- */
.card{
  background:var(--card);
  border-radius:14px;
  padding:1rem;
  box-shadow:0 12px 36px rgba(0,0,0,0.25);
  backdrop-filter:blur(8px);
  margin-bottom:3.5rem;
}

.answer{
  font-size:1.05rem;
  line-height:1.5;
  white-space:pre-wrap;
  word-break:break-word;
}

/* -------------------------------------------------------
   FLOATING INPUT — SOLID + CLEAR
   ------------------------------------------------------- */
.floating-input{
  position:fixed;left:50%;
  transform:translateX(-50%);
  bottom:clamp(12px, env(safe-area-inset-bottom), 22px);
  display:flex;align-items:center;gap:10px;
  width:min(960px, calc(100% - 36px));
  padding:10px 14px;
  border-radius:999px;

  /* ✔ FIX: fully solid for readability */
  background:rgba(0,0,0,0.85);
  border:1px solid rgba(255,255,255,0.15);

  box-shadow:0 10px 30px rgba(0,0,0,0.25);
  z-index:1150;
}
.light .floating-input{
  background:rgba(255,255,255,0.95);
}

.floating-input.keyboard-open{
  transform:translateX(-50%) translateY(-28%);
}

.floating-input input[type="text"]{
  flex:1;border:0;outline:none;
  padding:12px 16px;
  font-size:1rem;
  background:transparent;color:var(--text);
}
.floating-input input[type="text"]::placeholder{
  color:var(--placeholder);
}

.floating-input input[type="submit"]{
  padding:10px 16px;border-radius:999px;
  border:none;background:var(--button-bg);
  color:#000;font-weight:700;
  cursor:pointer;
}

/* -------------------------------------------------------
   MODAL FIXES
   ------------------------------------------------------- */
.modal-backdrop{
  position:fixed;inset:0;
  display:none;align-items:center;justify-content:center;
  background:rgba(0,0,0,0.56);
  z-index:1300;padding:16px;
  backdrop-filter:blur(6px);
}

.modal{
  width:100%;max-width:820px;
  border-radius:12px;padding:22px;
  background:rgba(0,0,0,0.75);
  box-shadow:0 18px 48px rgba(0,0,0,0.5);
  color:var(--text);
}
.light .modal{
  background:rgba(255,255,255,0.92);
}

/* -------------------------------------------------------
   RESPONSIVE
   ------------------------------------------------------- */
@media(min-width:680px){
  .card{padding:1.5rem}
  .floating-input{bottom:26px;padding:12px 16px}
}

@media(min-width:1024px){
  .floating-input{
    width:min(1100px,70%);
    bottom:34px;
  }
}
